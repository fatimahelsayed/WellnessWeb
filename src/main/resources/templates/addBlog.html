<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Add a Blog</title>

    <link rel="stylesheet" type="text/css" th:href="@{/CSS/home.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/CSS/addblog.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/CSS/blogs.css}">

    <style>
        .blog-title { 
          transform: translateY(30px);
          border: none;
          outline: none;
          font-size: 40px;
          font-family: 'playfair-bold';
          background-color: transparent;
          color: #305844;
        }

        .blogs-content,
  .blogs-content-intro,
  .blogs-tw {
    font-size: 17px;
    font-family: Arial, Helvetica, sans-serif;
    line-height: 28px;
    font-weight: 500;
    border: none;
    outline: none;
    background-color: transparent;
    width: 100%; 
    height: 50%;
  }

  .publish {
  font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
  font-size: 16px;
  background-color: #305844;
  color: rgb(243, 241, 238);
  cursor: pointer;
  letter-spacing: 1px;
  border: none;
  width: 175px;
  height: 35px;
}

.publish:hover{
    transition: .5s ease-in;
    background-color: #559072;
    letter-spacing: 1.5px;
}
        </style>

</head>


<body>

    <div th:replace="~{/partials/navbar}"></div>

    <div class="why-blog" style="padding-top:50px; padding-left: 80px; padding-right: 80px;">
    <!-- <h1 style="      
    color: rgb(240, 240, 240); font-size: 50px;">
    why blogging?</h1> -->
    <p>for individuals grappling with mental illness, blogging can be a transformative tool, 
        offering a myriad of benefits that extend beyond the digital realm. <br> from providing an expressive outlet to
         fostering community and advocacy, blogging holds the potential to become a vital lifeline in the journey 
         towards mental wellness

    </p>

</div>

<header>
    <form th:action="@{/blogs/addBlog}" th:object="${blogObj}" method="POST" onsubmit="return validateForm()">
        <div class="topic-problem">
            What topic is your blog related to?
            <select name="illnessName" th:field="*{illnessName}" required>
                <option value="">Select an illness</option>
                <option th:each="illness : ${illnesses}" th:value="${illness.name}" th:text="${illness.Name}"></option>
            </select>
        </div>
    
        <div class="blogs-container">
            <input type="text" class="blog-title" placeholder="Enter Blog Title" th:field="*{TitleofBlog}" required maxlength="50">
            <!-- Add 'required' attribute to make it mandatory and 'maxlength' to restrict to 50 characters -->
        </div>
    
        <article class="blogs-container">
            <input type="text" class="blogs-tw" placeholder="Add trigger warnings for readers before proceeding."
                   th:value="${blogObj.IntroofBlog}" th:name="IntroofBlog" required maxlength="50">
    
            <p class="publish-details" th:if="${customer != null}">
                <small>By <em th:text="${customer.username}"></em>,
                    <em th:text="${#dates.format(#dates.createNow(), 'MM/dd/yyyy')}"></em></small>
            </p>
    
            <textarea class="blogs-content" placeholder="Enter the content of your first blog here..."
                      th:field="*{ContentofBlog}" style="width: 850px; height: 400px;"
                      rows="40" cols="80" required minlength="50"></textarea>
    
            <button type="submit" class="publish">Publish your blog</button>
        </article>
    </form>
    
    <script>
        function validateForm() {
            var form = document.forms[0];
            var illnessName = form.illnessName.value.trim();
            var blogTitle = form.TitleofBlog.value.trim();
            var introOfBlog = form.IntroofBlog.value.trim();
            var contentOfBlog = form.ContentofBlog.value.trim();
    
            if (!illnessName || !blogTitle || !introOfBlog || !contentOfBlog) {
                alert("All fields are mandatory.");
                return false;
            }
    
            if (blogTitle.length > 50) {
                alert("Blog title should not exceed 50 characters.");
                return false;
            }
    
            if (introOfBlog.length > 50) {
                alert("Trigger warnings should not exceed 50 characters.");
                return false;
            }
    
            if (contentOfBlog.length < 50) {
                alert("Content of blog should contain at least 50 characters.");
                return false;
            }
    
            return true;
        }
    </script>
    
</header>


<div th:replace="~{partials/footer}"></div>

</body>


</html>
